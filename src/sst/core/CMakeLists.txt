configure_file(sst_config.h.in.cmake sst_config.h)
configure_file(build_info.h.in build_info.h)

add_executable(sstsim.x 
  main.cc 
	action.cc
	clock.cc
	baseComponent.cc
	component.cc
	componentExtension.cc
	componentInfo.cc
	config.cc
	configGraph.cc
	cfgoutput/pythonConfigOutput.cc
	cfgoutput/dotConfigOutput.cc
	cfgoutput/xmlConfigOutput.cc
	cfgoutput/jsonConfigOutput.cc
	env/envquery.cc
	env/envconfig.cc
	eli/elibase.cc
	eli/elementinfo.cc
	elemLoader.cc
	event.cc
	exit.cc
	factory.cc
	heartbeat.cc
	initQueue.cc
	link.cc
	memuse.cc
	oneshot.cc
	output.cc
	params.cc
	pollingLinkQueue.cc
	simulation.cc
	subcomponent.cc
	sharedRegion.cc
	timeLord.cc
	uninitializedQueue.cc
	unitAlgebra.cc
	module.cc
	sstpart.cc
	timeVortex.cc
	serialization/serializable.cc
	serialization/serialize_serializable.cc
	serialization/serializer.cc
	serialization/statics.cc
	interfaces/TestEvent.cc
	interfaces/simpleMem.cc
	interfaces/stdMem.cc
	interfaces/simpleNetwork.cc
	interprocess/ipctunnel.cc
	interprocess/mmapparent.cc
	interprocess/shmparent.cc
	rng/marsaglia.cc
	rng/mersenne.cc
	rng/xorshift.cc
	statapi/statengine.cc
	statapi/statgroup.cc
	statapi/statoutput.cc
	statapi/statfieldinfo.cc
	statapi/statoutputconsole.cc
	statapi/statoutputtxt.cc
	statapi/statoutputcsv.cc
	statapi/statoutputjson.cc
	statapi/statbase.cc
  shared/sharedObject.cc
	cputimer.cc
	iouse.cc
	simulation_impl.h
)

target_include_directories(sstsim.x PRIVATE 
  ${CMAKE_CURRENT_BINARY_DIR} 
  ${CMAKE_BINARY_DIR}/src
  ${CMAKE_SOURCE_DIR}/../src 
  ${CMAKE_CURRENT_SOURCE_DIR}/libltdl
  ${CMAKE_CURRENT_SOURCE_DIR}
  )
target_link_libraries(sstsim.x PUBLIC Python::Module MPI::MPI_C ZLIB::ZLIB HDF5::HDF5)
  
